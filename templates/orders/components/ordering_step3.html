{% load i18n %}
<div x-show="step === 3" x-transition>
  <h1 class="mb-4 text-center text-xl font-bold text-[#000] sm:text-2xl">{% trans "建立訂單" %}</h1>

  <!-- Progress Steps -->
  <ul class="steps my-4 w-full">
    <li class="step step-active">
      <span class="text-sm text-[#5a855a] sm:text-lg">{% trans "確認明細" %}</span>
    </li>
    <li class="step step-active">
      <span class="text-sm text-[#5a855a] sm:text-lg">{% trans "選擇付款" %}</span>
    </li>
    <li class="step step-active">
      <span class="text-sm font-semibold text-[#5a855a] sm:text-lg">{% trans "確認結帳" %}</span>
    </li>
  </ul>

  <!-- Main Content Card -->
  <div class="w-full sm:max-w-xl sm:m-auto mt-4 sm:mt-7">
    <h2 class="mb-5 text-base font-semibold text-gray-900 sm:text-lg">{% trans "確認訂單明細" %}</h2>

    <div class="space-y-4">
      <!-- container for list items -->

      <div class="flex flex-col items-start border-b border-gray-200 pb-3 sm:flex-row sm:items-center sm:justify-between">
        <span class="text-base text-gray-700 sm:text-lg">{% trans "訂購門市" %}</span>
        <span class="mt-1 text-base font-medium text-gray-900 sm:mt-0 sm:text-lg">{{ cart.store.name }}</span>
      </div>

      <div class="flex flex-col items-start border-b border-gray-200 pb-3 sm:flex-row sm:items-center sm:justify-between">
        <span class="text-base text-gray-700 sm:text-lg">{% trans "取貨人" %}</span>
        <span class="mt-1 text-base font-medium text-gray-900 sm:mt-0 sm:text-lg" x-text="ordering_member_name"></span>
      </div>

      <div class="flex flex-col items-start border-b border-gray-200 pb-3 sm:flex-row sm:items-center sm:justify-between">
        <span class="text-base text-gray-700 sm:text-lg">{% trans "聯絡電話" %}</span>
        <span class="mt-1 text-base font-medium text-gray-900 sm:mt-0 sm:text-lg" x-text="ordering_member_phone_number"></span>
      </div>

      <div class="flex flex-col items-start border-b border-gray-200 pb-3 sm:flex-row sm:items-center sm:justify-between">
        <span class="text-base text-gray-700 sm:text-lg">{% trans "取貨方式" %}</span>
        <span class="mt-1 text-base font-medium text-gray-900 sm:mt-0 sm:text-lg">{% trans "自取" %}</span>
      </div>

      <div class="flex flex-col items-start border-b border-gray-200 pb-3 sm:flex-row sm:items-center sm:justify-between">
        <span class="text-base text-gray-700 sm:text-lg">{% trans "預計取貨時間" %}</span>
        <span class="mt-1 text-base font-medium text-gray-900 sm:mt-0 sm:text-lg" x-text="formatDateTime(formData.pickup_time)"></span>
      </div>

      <div class="flex flex-col items-start border-b border-gray-200 pb-3 sm:flex-row sm:items-center sm:justify-between">
        <span class="text-base text-gray-700 sm:text-lg">{% trans "付款方式" %}</span>
        <span class="mt-1 text-base font-medium text-gray-900 sm:mt-0 sm:text-lg" x-text="paymentLabels[formData.payment_method]"></span>
      </div>

      <div class="flex flex-col items-start pt-2 sm:flex-row sm:items-center sm:justify-between">
        <span class="text-base text-gray-700 sm:text-lg">{% trans "總卡路里" %}</span>
        <span id="ordering_total_calories_step3" class="mt-1 text-base font-semibold text-gray-900 sm:mt-0 sm:text-lg"> {{ cart.total_calories }} kcal </span>
      </div>

      <div class="flex flex-col items-start sm:flex-row sm:items-center sm:justify-between">
        <span class="text-base text-gray-700 sm:text-lg">{% trans "應付金額" %}</span>
        <span id="ordering_total_price_step3" class="mt-1 text-base font-semibold text-gray-900 sm:mt-0 sm:text-lg">$ {{ cart.total_price }}</span>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="mt-6 flex flex-col items-center justify-center space-y-3 sm:mt-8 sm:flex-row sm:space-y-0 sm:space-x-4">
      <button type="button" @click="prevStep()" class="btn w-full border-gray-800 text-gray-800 text-lg btn-outline hover:border-gray-800 hover:bg-gray-800 hover:text-white sm:w-auto">上一步</button>
      <button type="submit" class="btn w-full border-none bg-[#5a855a] text-white text-lg hover:bg-[#2e4e2e] sm:w-auto">{% trans "送出訂單" %}</button>
    </div>
  </div>
</div>
