{% extends "layouts/default.html" %} {% block main %}

<div x-data="myGeocode" class="space-y-4">
  <!-- æŒ‰éˆ•ï¼šå–å¾—ä½ç½® -->
  <div>
    <button @click="getLocation" class="block px-4 py-2 bg-blue-500 text-white rounded">
      ğŸ“ å–å¾—ç›®å‰ä½ç½®
    </button>
    <div>
      <input type="text" x-model="address" class="border-2 mr-1.5">
      <button @click="getAddress" class="btn" data-url="{% url 'locations:search_addr' %}">å–å¾—åœ°å€ä½ç½®</button>
    </div>
  </div>

  <p x-text="type" class="block text-lg font-bold ml-2"></p>
  <p x-text="tomtom_addr" class="block text-lg font-bold ml-2"></p>

  <!-- æœå°‹æŒ‰éˆ• -->
<form hx-post="{% url 'locations:search_store' %}" hx-target="#results" hx-swap="innerHTML">
  {% csrf_token %}
  <div class="px-2">
    <label for="longitude">ç¶“åº¦:</label>
    <input class="border-2 mb-2" type="number" step="any" name="longitude" x-model="longitude">
  </div>
  <div class="px-2">
    <label for="latitude">ç·¯åº¦:</label>
    <input class="border-2 mb-2" type="number" step="any" name="latitude" x-model="latitude">
  </div>
  <div class="px-2">
    <label for="radius">æœå°‹ç¯„åœ (å…¬é‡Œ):</label>
    <input class="border-2 mb-2" type="number" step="0.01" min="0" name="radius" x-model="radius">
  </div>
  <div class="px-2">
    <button class="btn px-2" type="submit">æœå°‹</button>
  </div>
</form>
    ğŸ” æœå°‹é™„è¿‘åœ°å€
  </button>

  <!-- çµæœé¡¯ç¤ºå€åŸŸ -->
  <div id="results" class="mt-4 border p-4 rounded bg-gray-50">
    {% include "locations/result.html" %}
  </div>
</div>
{% endblock main %}
