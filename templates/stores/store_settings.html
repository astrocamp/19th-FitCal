{% extends "layouts/business/default.html" %} {% load widget_tweaks %} {% load static %} {% block title %}商家基本設定 - {{ store.name }}{% endblock %} {% block main %}
<main class="max-w-4xl mx-auto px-6 py-8">
  <h1 class="text-3xl font-bold text-gray-900 mb-6">商家基本設定</h1>

  {% if messages %}
  <div class="mb-4">
    {% for message in messages %}
    <div class="p-3 rounded text-sm {% if message.tags == 'success' %}bg-green-100 text-green-700{% elif message.tags == 'error' %}bg-red-100 text-red-700{% endif %}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}

  <div class="bg-white p-8 rounded-lg shadow-md">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label for="{{ form.name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">{{ form.name.label }}</label>
          {{ form.name|add_class:"input input-bordered w-full" }} {% if form.name.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.name.errors.0 }}</p>
          {% endif %}
        </div>

        <div>
          <label for="{{ form.address.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">{{ form.address.label }}</label>
          {{ form.address|add_class:"input input-bordered w-full" }} {% if form.address.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.address.errors.0 }}</p>
          {% endif %}
        </div>

        <div>
          <label for="{{ form.phone_number.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">{{ form.phone_number.label }}</label>
          {{ form.phone_number|add_class:"input input-bordered w-full" }} {% if form.phone_number.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.phone_number.errors.0 }}</p>
          {% endif %}
        </div>

        <div>
          <label for="{{ form.tax_id.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">{{ form.tax_id.label }}</label>
          {{ form.tax_id|add_class:"input input-bordered w-full" }} {% if form.tax_id.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.tax_id.errors.0 }}</p>
          {% endif %}
        </div>

        <div>
          <label for="{{ form.opening_time.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">{{ form.opening_time.label }}</label>
          {{ form.opening_time|add_class:"input input-bordered w-full" }} {% if form.opening_time.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.opening_time.errors.0 }}</p>
          {% endif %}
        </div>

        <div>
          <label for="{{ form.closing_time.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">{{ form.closing_time.label }}</label>
          {{ form.closing_time|add_class:"input input-bordered w-full" }} {% if form.closing_time.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.closing_time.errors.0 }}</p>
          {% endif %}
        </div>

        <div>
          <label for="{{ form.cover_image.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">{{ form.cover_image.label }}</label>
          {{ form.cover_image }} {% if store.cover_image %}
          <img src="{{ store.cover_url }}" alt="目前封面圖片" class="mt-2 w-32 h-32 object-cover rounded-md border border-gray-300" />
          {% endif %} {% if form.cover_image.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.cover_image.errors.0 }}</p>
          {% endif %}
        </div>

        <div>
          <label for="{{ form.logo_image.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">{{ form.logo_image.label }}</label>
          {{ form.logo_image }} {% if store.logo_image %}
          <img src="{{ store.logo_url }}" alt="目前 Logo 圖片" class="mt-2 w-32 h-32 object-cover rounded-md border border-gray-300" />
          {% endif %} {% if form.logo_image.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.logo_image.errors.0 }}</p>
          {% endif %}
        </div>
      </div>

      <div class="mt-8 flex justify-end">
        <button type="submit" class="btn btn-primary px-8 py-3 text-lg">儲存設定</button>
      </div>
    </form>
  </div>
</main>
{% endblock main %}
