{% extends "layouts/default.html" %} {% block main %}
<div class="p-4 space-y-6">
  <!-- æœå°‹çµæœæ¨™é¡Œ -->
  <h1 class="text-2xl font-semibold text-gray-800 border-b pb-2">ğŸ” æœå°‹çµæœï¼š<span class="text-blue-600">{{ query }}</span></h1>
  {% if not stores and not products %}
  <p class="text-gray-500 italic">æ‰¾ä¸åˆ°ç›¸é—œçš„å•†å®¶æˆ–é¤é»</p>
  {% endif %}

  <!-- å•†å®¶æœå°‹çµæœ -->
  {% if stores %}
  <h2 class="text-xl font-bold text-green-700 mt-8 border-l-4 border-green-300 pl-3">ğŸª ç›¸é—œå•†å®¶</h2>
  <div class="container mx-auto p-4">
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      {% for store in stores %}
      <!-- å•†å®¶å¡ç‰‡ -->
      {% include "stores/store_card.html" with store=store %} {% endfor %}
    </div>
  </div>
  {% endif %}

  <!-- å•†å“æœå°‹çµæœ -->
  {% if products %}
  <h2 class="text-xl font-bold text-orange-700 mt-8 border-l-4 border-orange-300 pl-3">ğŸ± ç›¸é—œå•†å“</h2>

  {% for store, products in grouped_products %}
  <div class="mt-6">
    <h3 class="text-lg font-semibold text-gray-800 mb-2">ğŸª å•†å®¶ï¼š<a href="{% url 'stores:show' store.id %}" class="text-gray-800 hover:underline"> {{ store.name }} </a></h3>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">{% for product in products %} {% include "products/product_card.html" %} {% endfor %}</div>
  </div>
  <hr class="my-10 border-t-2 border-gray-300" />
  {% endfor %} {% endif %}
</div>
{% endblock %}
