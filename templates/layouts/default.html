{% load static %}
<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="FitCal - 健康餐點訂購系統，提供便捷的線上點餐服務" />
    <meta name="keywords" content="健康餐點,線上訂餐,外帶,健康飲食,便當,餐廳外送,健康餐盒,FitCal" />
    <title>FitCal</title>

    <link rel="stylesheet" href="{% static 'assets/styles/style.css' %}" />
    {# 這裡將 app.js 保持註解狀態 #} {% comment %}
    <script type="module" src="{% static 'assets/scripts/app.js' %}"></script>
    {% endcomment %} {# 如果您在 head 裡有其他額外需要引入的腳本或樣式，可以放在這裡 #} {% block head_extra %}{% endblock %}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
  </head>
  <body class="min-h-screen flex flex-col" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'>
    <main class="flex-1">
      <nav class="shadow-sm">{% include 'shared/navbar.html' %}</nav>
      <section class="max-w-7xl mx-auto">
        <div id="messages-container">{% include "shared/messages.html" %}</div>

        {# 確保 block main 是沒有被註解的 #} {% include "chatbot/widget.html" %} {# 如果您想測試 chatbot，請保留這行；如果還不想，可以單獨註解它 #} {% block main %}{% endblock main %}
      </section>
    </main>
    <footer class="bg-white-100 text-gray-700 px-6 py-10">{% include 'shared/footer.html' %}</footer>

    {# --- 將共用腳本放在這裡，確保在 DOM 載入後執行 --- #}
    <script src="https://unpkg.com/htmx.org@1.9.10" integrity="sha384-D1Kt99CQGfgrR6EQK8TbtNDYg7HQePmcWMKvCQkTMkHTKfhtXMHT5xQZkOL/lmbGCdXzowuoxB9YfX4KrvB9YfX4KrvB/s" crossorigin="anonymous"></script>
    <script defer src="https://unpkg.com/alpinejs@3.13.5/dist/cdn.min.js"></script>

    {# 這裡放頁面特定的 JS 變數或其他腳本，確保它們在 form_logic.js 之前載入 #} {% block extra_js %}{% endblock extra_js %} {# 載入 form_logic.js 一次就好 #}
    <script src="{% static 'assets/scripts/form_logic.js' %}"></script>

    {# 載入其他需要在所有頁面載入的通用腳本 #} {% block body_extra_scripts %}{% endblock %}
  </body>
</html>
